import{a,j as e,c as V}from"./index-Q695sD3D.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,s,i)=>i?i.toUpperCase():s.toLowerCase()),T=r=>{const o=Z(r);return o.charAt(0).toUpperCase()+o.slice(1)},H=(...r)=>r.filter((o,s,i)=>!!o&&o.trim()!==""&&i.indexOf(o)===s).join(" ").trim(),G=r=>{for(const o in r)if(o.startsWith("aria-")||o==="role"||o==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var W={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=a.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:h="",children:c,iconNode:b,...g},j)=>a.createElement("svg",{ref:j,...W,width:o,height:o,stroke:r,strokeWidth:i?Number(s)*24/Number(o):s,className:H("lucide",h),...!c&&!G(g)&&{"aria-hidden":"true"},...g},[...b.map(([N,v])=>a.createElement(N,v)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m=(r,o)=>{const s=a.forwardRef(({className:i,...h},c)=>a.createElement(Q,{ref:c,iconNode:o,className:H(`lucide-${Y(T(r))}`,`lucide-${r}`,i),...h}));return s.displayName=T(r),s};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ee=m("chevron-down",J);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],te=m("circle-user",re);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],ae=m("crosshair",oe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],se=m("loader-circle",ne);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],ce=m("network",ie);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],de=m("rotate-ccw",le);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],he=m("search",pe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xe=m("triangle-alert",ge);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ue=m("user",fe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],be=m("x",me);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ye=m("zoom-in",ve);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ke=m("zoom-out",we),je=({data:r,onSelect:o})=>{const[s,i]=a.useState(""),[h,c]=a.useState(!1),b=a.useRef(null),g=a.useMemo(()=>{const n=[],d=y=>{y&&y.forEach(x=>{n.push({name:x.name,title:x.title,department:x.department,id:x.distinguishedName,distinguishedName:x.distinguishedName}),x.children&&d(x.children)})};return d(r),n},[r]),j=a.useMemo(()=>{if(!s||s.length<2)return[];const n=s.toLowerCase();return g.filter(d=>d.name&&d.name.toLowerCase().includes(n)).slice(0,8)},[s,g]);a.useEffect(()=>{const n=d=>{b.current&&!b.current.contains(d.target)&&c(!1)};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[]);const N=n=>{i(n.name),c(!1),o(n.id)},v=()=>{i(""),c(!1)};return e.jsxs("div",{className:"search-component",ref:b,children:[e.jsxs("div",{className:`search-input-wrapper ${h?"active":""}`,children:[e.jsx(he,{size:16,className:"search-icon"}),e.jsx("input",{type:"text",placeholder:"Buscar colaborador...",value:s,onChange:n=>{i(n.target.value),c(!0)},onFocus:()=>c(!0)}),s&&e.jsx("button",{className:"clear-btn",onClick:v,children:e.jsx(be,{size:14})})]}),h&&j.length>0&&e.jsx("div",{className:"search-dropdown",children:j.map(n=>e.jsxs("div",{className:"search-item",onClick:()=>N(n),children:[e.jsx("div",{className:"item-avatar",children:e.jsx(ue,{size:16})}),e.jsxs("div",{className:"item-info",children:[e.jsx("span",{className:"item-name",children:n.name}),e.jsxs("span",{className:"item-meta",children:[n.title," • ",n.department]})]})]},n.id))}),h&&s.length>=2&&j.length===0&&e.jsx("div",{className:"search-dropdown empty",children:e.jsx("span",{children:"Nenhum resultado encontrado"})}),e.jsx("style",{children:`
                .search-component {
                    position: relative;
                    width: 300px;
                }
                .search-input-wrapper {
                    display: flex;
                    align-items: center;
                    background: #fff;
                    border: 1px solid #e2e8f0;
                    border-radius: 8px;
                    padding: 8px 12px;
                    transition: all 0.2s;
                    position: relative;
                }
                .search-input-wrapper:focus-within {
                    border-color: #3b82f6;
                    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
                }
                .search-icon {
                    color: #94a3b8;
                    margin-right: 8px;
                }
                .search-input-wrapper input {
                    border: none;
                    outline: none;
                    width: 100%;
                    font-size: 0.9rem;
                    color: #0f172a;
                }
                .clear-btn {
                    background: none;
                    border: none;
                    color: #94a3b8;
                    cursor: pointer;
                    display: flex;
                    align-items: center;
                    padding: 4px;
                }
                .clear-btn:hover { color: #64748b; }

                .search-dropdown {
                    position: absolute;
                    top: 100%;
                    left: 0;
                    right: 0;
                    margin-top: 8px;
                    background: #fff;
                    border: 1px solid #e2e8f0;
                    border-radius: 8px;
                    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
                    max-height: 300px;
                    overflow-y: auto;
                    z-index: 100;
                    padding: 4px;
                }
                .search-item {
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    padding: 8px 12px;
                    border-radius: 6px;
                    cursor: pointer;
                    transition: background 0.15s;
                }
                .search-item:hover {
                    background: #f1f5f9;
                }
                .item-avatar {
                    width: 32px;
                    height: 32px;
                    background: #e2e8f0;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: #64748b;
                }
                .item-info {
                    display: flex;
                    flex-direction: column;
                    overflow: hidden;
                }
                .item-name {
                    font-weight: 500;
                    font-size: 0.9rem;
                    color: #0f172a;
                }
                .item-meta {
                    font-size: 0.75rem;
                    color: #64748b;
                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis;
                }
                .search-dropdown.empty {
                    padding: 16px;
                    text-align: center;
                    color: #94a3b8;
                    font-size: 0.9rem;
                }
            `})]})},U=a.createContext({hoveredNodeId:null,setHoveredNodeId:()=>{},selectedNodeId:null,setSelectedNodeId:()=>{},activePath:new Set}),Ne=r=>{if(!r)return"#64748b";const o={Financeiro:"#059669",Comercial:"#d97706",Vendas:"#d97706",TI:"#2563eb",Tecnologia:"#2563eb","Recursos Humanos":"#db2777",RH:"#db2777",Diretoria:"#0f172a",Executivo:"#0f172a",Jurídico:"#7c3aed",Marketing:"#ea580c",Operações:"#0891b2"};if(o[r])return o[r];let s=0;for(let h=0;h<r.length;h++)s=r.charCodeAt(h)+((s<<5)-s);return`hsl(${Math.abs(s%360)}, 60%, 40%)`},Ce=r=>{if(!r)return"";const o=r.split(" ");return o.length>=2?`${o[0][0]}${o[o.length-1][0]}`.toUpperCase():r[0].toUpperCase()},ze=({node:r,isExpanded:o,toggleNode:s,hasChildren:i,parentId:h})=>{const{hoveredNodeId:c,setHoveredNodeId:b,selectedNodeId:g,setSelectedNodeId:j,activePath:N}=a.useContext(U),v=a.useMemo(()=>Ne(r.department),[r.department]),n=r.distinguishedName,d=c===n,y=g===n,x=N.has(n),w=c===h&&c!==null,M=c&&!(d||y||w||c&&x),S=r.title&&(r.title.toLowerCase().includes("presidente")||r.title.toLowerCase().includes("ceo")||r.title.toLowerCase().includes("diretor")),D=f=>{f.stopPropagation(),b(n)},$=()=>{b(null)},E=f=>{f.stopPropagation(),j(n===g?null:n)},P=f=>{f.stopPropagation(),i&&s()},O=f=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),E(f))};return e.jsxs("div",{id:n,className:`
                org-card
                ${S?"executive":""}
                ${d?"state-hover":""}
                ${y?"state-selected":""}
                ${M?"state-dimmed":""}
                ${w?"state-subordinate":""}
            `,onClick:E,onMouseEnter:D,onMouseLeave:$,onKeyDown:O,tabIndex:0,role:"treeitem","aria-label":`${r.name}, ${r.title}, ${r.department}`,"aria-selected":y,"aria-expanded":i?o:void 0,style:{"--dept-color":v},children:[e.jsx("div",{className:"card-accent"}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("div",{className:"avatar",children:Ce(r.name)}),e.jsxs("div",{className:"info",children:[e.jsx("h6",{className:"name",children:r.name}),e.jsx("p",{className:"role",children:r.title||"Cargo não definido"})]})]}),r.department&&e.jsx("div",{className:"card-footer",children:e.jsx("span",{className:"dept-badge",children:r.department})})]}),i&&e.jsx("button",{className:`toggle-btn ${o?"expanded":""}`,onClick:P,"aria-label":o?"Recolher":"Expandir",tabIndex:-1,children:e.jsx(ee,{size:14,className:"icon-chevron"})})]})},Me=()=>{const[r,o]=a.useState([]),[s,i]=a.useState(!0),[h,c]=a.useState(null),[b,g]=a.useState(1),[j,N]=a.useState(new Set),[v,n]=a.useState(null),[d,y]=a.useState(null),x=a.useMemo(()=>{const t=new Set,l=v||d;if(!l||!r.length)return t;const p=(k,C=[])=>{for(const z of k){if(z.distinguishedName===l)return[...C,z.distinguishedName];if(z.children){const I=p(z.children,[...C,z.distinguishedName]);if(I)return I}}return null},u=p(r);return u&&u.forEach(k=>t.add(k)),t},[v,d,r]),w=a.useRef(null),[A,M]=a.useState(!1),[S,D]=a.useState({x:0,y:0}),[$,E]=a.useState({left:0,top:0});a.useEffect(()=>{fetch("/api/public/organogram_data").then(t=>{if(!t.ok)throw new Error("Falha ao carregar dados");return t.json()}).then(t=>{const l=Array.isArray(t)?t:[];o(l);const p=new Set;l.forEach((u,k)=>{const C=u.distinguishedName||k;p.add(C)}),N(p),i(!1)}).catch(t=>{c(t.message),i(!1)})},[]),a.useEffect(()=>{const t=l=>{l.key==="Escape"&&y(null)};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]);const P=t=>{w.current&&(t.target.closest(".org-card")||t.target.tagName==="BUTTON"||t.target.tagName==="INPUT"||(M(!0),D({x:t.pageX,y:t.pageY}),E({left:w.current.scrollLeft,top:w.current.scrollTop})))},O=t=>{if(!A||!w.current)return;t.preventDefault();const l=t.pageX-S.x,p=t.pageY-S.y;w.current.scrollLeft=$.left-l,w.current.scrollTop=$.top-p},f=()=>M(!1),B=t=>{if(t.ctrlKey||t.metaKey){t.preventDefault();const l=t.deltaY>0?-.1:.1;g(p=>Math.min(Math.max(.3,p+l),2))}},X=()=>{if(d){const t=document.getElementById(d);t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}},q=t=>{y(t),setTimeout(()=>{const l=document.getElementById(t);l&&l.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},100)},R=(t,l=null)=>!t||t.length===0?null:e.jsx("ul",{className:"org-tree",children:t.map(p=>{const u=p.distinguishedName,k=p.children&&p.children.length>0,C=j.has(u),z=x.has(u)&&x.has(l)||v===l,I=k&&p.children.every(L=>!L.children||L.children.length===0),F=k&&p.children.length>8,K=I||F;return e.jsxs("li",{className:`org-leaf ${z?"conn-active":""}`,children:[e.jsx(ze,{node:p,isExpanded:C,toggleNode:()=>N(L=>{const _=new Set(L);return _.has(u)?_.delete(u):_.add(u),_}),hasChildren:k,parentId:l}),k&&C&&e.jsx("div",{className:K?"grid-wrapper":"",children:R(p.children,u)})]},u)})});return s?e.jsx("div",{className:"loading-container",children:e.jsx(se,{className:"spinner"})}):h?e.jsxs("div",{className:"error-container",children:[e.jsx(xe,{})," ",h]}):e.jsx(U.Provider,{value:{hoveredNodeId:v,setHoveredNodeId:n,selectedNodeId:d,setSelectedNodeId:y,activePath:x},children:e.jsxs("div",{className:"organogram-page",children:[e.jsxs("header",{className:"page-header",children:[e.jsxs("div",{className:"brand",children:[e.jsx(ce,{size:24}),e.jsxs("div",{className:"brand-text",children:[e.jsx("h2",{children:"Organograma"}),e.jsx("span",{children:"Corporativo"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx(je,{data:r,onSelect:q}),e.jsxs("div",{className:"toolbar",children:[e.jsx("button",{onClick:()=>g(t=>Math.max(.3,t-.1)),title:"Diminuir",children:e.jsx(ke,{size:18})}),e.jsxs("span",{children:[Math.round(b*100),"%"]}),e.jsx("button",{onClick:()=>g(t=>Math.min(2,t+.1)),title:"Aumentar",children:e.jsx(ye,{size:18})}),e.jsx("div",{className:"sep"}),e.jsx("button",{onClick:()=>g(1),title:"Resetar",children:e.jsx(de,{size:18})}),d&&e.jsx("button",{onClick:X,title:"Centralizar Seleção",className:"active-btn",children:e.jsx(ae,{size:18})})]}),e.jsxs("a",{href:"/login",className:"btn-login",children:[e.jsx(te,{size:18})," Login"]})]})]}),e.jsx("main",{className:`canvas ${A?"grabbing":""}`,ref:w,onMouseDown:P,onMouseMove:O,onMouseUp:f,onMouseLeave:f,onWheel:B,children:e.jsx("div",{className:"tree-wrapper",style:{transform:`scale(${b})`},children:R(r)})}),e.jsx("style",{children:`
                    :root {
                        --bg-page: #f8fafc;
                        --bg-card: #ffffff; /* Off-white handled individually if needed */
                        --text-primary: #0f172a;
                        --text-secondary: #64748b;
                        --border-color: #e2e8f0;
                        --line-color: #cbd5e1;
                        --line-active: #3b82f6;
                        --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
                        --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
                        --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
                        --shadow-active: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
                    }

                    .organogram-page {
                        font-family: 'Inter', system-ui, sans-serif;
                        background: var(--bg-page);
                        height: 100vh;
                        display: flex;
                        flex-direction: column;
                        overflow: hidden;
                        color: var(--text-primary);
                    }

                    /* Header */
                    .page-header {
                        height: 64px;
                        background: rgba(255,255,255,0.9);
                        backdrop-filter: blur(8px);
                        border-bottom: 1px solid var(--border-color);
                        display: flex;
                        align-items: center;
                        justify-content: space-between;
                        padding: 0 24px;
                        z-index: 50;
                    }
                    .brand { display: flex; align-items: center; gap: 12px; color: var(--text-primary); }
                    .brand-text h2 { margin: 0; font-size: 1rem; font-weight: 700; line-height: 1.2; }
                    .brand-text span { font-size: 0.75rem; color: var(--text-secondary); text-transform: uppercase; }

                    .actions { display: flex; align-items: center; gap: 16px; }
                    .toolbar {
                        display: flex;
                        align-items: center;
                        background: #fff;
                        border: 1px solid var(--border-color);
                        border-radius: 8px;
                        padding: 4px;
                        gap: 4px;
                    }
                    .toolbar button {
                        border: none; background: transparent; padding: 6px; border-radius: 4px;
                        color: var(--text-secondary); cursor: pointer; display: flex;
                        transition: all 0.2s;
                    }
                    .toolbar button:hover { background: var(--bg-page); color: var(--text-primary); }
                    .toolbar button.active-btn { color: var(--line-active); background: #eff6ff; }
                    .sep { width: 1px; height: 16px; background: var(--border-color); margin: 0 4px; }

                    .btn-login {
                        text-decoration: none; color: var(--text-primary); font-weight: 600; font-size: 0.9rem;
                        display: flex; gap: 8px; align-items: center; padding: 8px 12px; border-radius: 6px;
                        transition: background 0.2s;
                    }
                    .btn-login:hover { background: #e2e8f0; }

                    /* Canvas */
                    .canvas {
                        flex: 1; overflow: hidden; cursor: grab; position: relative;
                        background-image: radial-gradient(#e2e8f0 1px, transparent 1px);
                        background-size: 24px 24px;
                    }
                    .canvas.grabbing { cursor: grabbing; }
                    .tree-wrapper {
                        display: flex; justify-content: center; padding: 80px; min-width: max-content;
                        transform-origin: top center; transition: transform 0.1s linear; /* Fast zoom */
                    }

                    /* Tree Structure */
                    .org-tree { list-style: none; padding: 0; margin: 0; display: flex; justify-content: center; }
                    .org-leaf { position: relative; padding: 40px 16px 0 16px; display: flex; flex-direction: column; align-items: center; }

                    /* Connectors */
                    .org-tree::before, .org-leaf::before, .org-leaf::after, .org-leaf > div::before {
                        content: ''; position: absolute; background: var(--line-color); transition: all 0.3s ease;
                    }
                    .org-tree::before { top: 0; left: 50%; width: 2px; height: 20px; transform: translateX(-50%); }
                    .org-leaf::before, .org-leaf::after { top: 0; right: 50%; width: 50%; height: 20px; border-top: 2px solid var(--line-color); background: transparent; }
                    .org-leaf::after { right: auto; left: 50%; border-left: 2px solid var(--line-color); border-top: none; }
                    .org-leaf:first-child::before, .org-leaf:last-child::after { border: none; }
                    .org-leaf:last-child::before { border-right: 2px solid var(--line-color); border-radius: 0 12px 0 0; }
                    .org-leaf:first-child::after { border-radius: 12px 0 0 0; border-top: 2px solid var(--line-color); }
                    .org-leaf > div::before { top: -20px; left: 50%; width: 2px; height: 20px; transform: translateX(-50%); }

                    /* Hide connectors for root/single */
                    .tree-wrapper > .org-tree::before { display: none; }
                    .org-leaf:only-child::after, .org-leaf:only-child::before { display: none; }
                    .org-leaf:only-child { padding-top: 0; }

                    /* Active Connections */
                    .org-leaf.conn-active::before,
                    .org-leaf.conn-active::after,
                    .org-leaf.conn-active > div::before {
                        border-color: var(--line-active); background-color: var(--line-active);
                        box-shadow: 0 0 6px rgba(59, 130, 246, 0.4);
                        z-index: 1;
                    }

                    /* Grid Layout Override */
                    .grid-wrapper { display: flex; justify-content: center; position: relative; padding-top: 20px; }
                    .grid-wrapper::before { content: ''; position: absolute; top: 0; left: 50%; width: 2px; height: 20px; background: var(--line-color); transform: translateX(-50%); }
                    .grid-wrapper > .org-tree {
                        display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px;
                    }
                    .grid-wrapper > .org-tree::before { display: none; }
                    .grid-wrapper .org-leaf { padding: 0; }
                    .grid-wrapper .org-leaf::before, .grid-wrapper .org-leaf::after { display: none; }

                    /* Card Design */
                    .org-card {
                        background: #FAFAFB; /* Off-white */
                        width: 260px;
                        border-radius: 12px;
                        box-shadow: var(--shadow-md);
                        position: relative;
                        transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
                        cursor: pointer;
                        overflow: hidden;
                        border: 1px solid transparent;
                        z-index: 2;
                    }
                    .card-accent { height: 4px; width: 100%; background: var(--dept-color); }
                    .card-body { padding: 16px; display: flex; flex-direction: column; gap: 8px; }

                    .card-header { display: flex; gap: 12px; align-items: center; }
                    .avatar {
                        width: 40px; height: 40px; border-radius: 10px;
                        background: #fff; color: var(--dept-color);
                        display: flex; align-items: center; justify-content: center;
                        font-weight: 700; font-size: 1rem;
                        box-shadow: var(--shadow-sm); border: 1px solid var(--border-color);
                    }
                    .info { flex: 1; min-width: 0; }
                    .name { margin: 0; font-weight: 700; font-size: 0.95rem; color: var(--text-primary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
                    .role { margin: 0; font-size: 0.8rem; color: var(--text-secondary); line-height: 1.3; }
                    .dept-badge {
                        display: inline-block; padding: 2px 8px; border-radius: 4px;
                        font-size: 0.7rem; font-weight: 600; text-transform: uppercase;
                        background: rgba(0,0,0,0.03); color: var(--dept-color);
                    }

                    /* States */
                    .org-card.state-hover {
                        transform: translateY(-4px) scale(1.02);
                        box-shadow: var(--shadow-active);
                        z-index: 10;
                        border-color: rgba(0,0,0,0.1);
                    }
                    .org-card.state-selected {
                        border: 2px solid var(--line-active);
                        transform: translateY(-2px);
                        box-shadow: var(--shadow-active);
                        z-index: 20;
                        background: #fff;
                    }
                    .org-card.state-dimmed {
                        opacity: 0.5; filter: grayscale(0.8);
                    }
                    .org-card.executive { border-left: 4px solid var(--text-primary); }

                    /* Toggle Button */
                    .toggle-btn {
                        position: absolute; bottom: -12px; left: 50%; transform: translateX(-50%);
                        width: 24px; height: 24px; border-radius: 50%;
                        background: #fff; border: 1px solid var(--border-color);
                        color: var(--text-secondary); cursor: pointer;
                        display: flex; align-items: center; justify-content: center;
                        transition: all 0.2s; box-shadow: var(--shadow-sm); z-index: 5;
                    }
                    .toggle-btn:hover { color: var(--line-active); border-color: var(--line-active); transform: translateX(-50%) scale(1.1); }
                    .toggle-btn.expanded .icon-chevron { transform: rotate(180deg); }

                    /* Loading */
                    .loading-container { height: 100vh; display: flex; align-items: center; justify-content: center; }
                    .spinner { animation: spin 1s linear infinite; color: var(--line-active); }
                    @keyframes spin { to { transform: rotate(360deg); } }
                `})]})})};V.createRoot(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(Me,{})}));
